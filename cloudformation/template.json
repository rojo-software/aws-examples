{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "AWS example code, REST API on Dynamo",
  "Resources": {
    "ProcessorLambdaStack": {
      "Type": "AWS::CloudFormation::Stack",
      "Properties": {
        "TemplateURL": "",
        "Parameters": {
          "ApiId": "${ApiId}",
          "DeploymentBucket": {"Fn::Sub": "${DeploymentBucket}"},
          "DynamoTableName": "${DynamoTableName}",
          "FunctionType": "processor",
          "StageName": {"Fn::Sub":  "${DeploymentName"}
        }
      }
    }
  },
  "Parameters": {
    "ApiId": {
      "Type": "String",
      "Default": "a3jp3ewyog"
    },
    "DynamoTableName": {
      "Type": "String",
      "Default": "example"
    },
    "DeploymentBucket": {
      "Type": "String",
      "Default": "something",
      "Description": "S3 bucket for deployment artifacts"
    },
    "DeploymentName": {
      "Type": "String",
      "Default": "dev",
      "Description": "Deployment name"
    }
  }
}

